# 1.MambaHSI块
- 将SSFTT模型中的transformer-encoder换为mamba块
- 结果:模型效果显示为所有模型中最佳
- 维度重排:添加虚拟宽度
```python
# 新增：将 3 维序列 (B, seq, C) → 4 维特征图 (B, C, H=seq, W=1)# H=seq（序列长度作为空间高度），W=1（虚拟宽度，凑齐4维）  
x = rearrange(x, 'b seq c -> b c seq 1')  
x = self.both_mamba(x)  # main game  
# 新增：将 4 维特征图恢复为 3 维序列 (B, seq, C)，用于后续提取 cls_tokenx = rearrange(x, 'b c seq 1 -> b seq c')
```
- 添加虚拟宽度本质上不影响模型的核心逻辑,对于mamba块,展开后维度与原token一致
# 2.avgpool的引入
- 在spamamba和spemamba中引入了avgpool作为权重相乘
- avg_pool后衔接1*1conv生成权重与mamba结果相乘
- 结果: